# PR Agent Configuration for Fluxwind UI
# https://github.com/Codium-ai/pr-agent

[config]
model = "gpt-4o"
fallback_models = ["gpt-4-turbo"]

[pr_description]
# Auto-generate PR descriptions
publish_description_as_comment = false
final_update_message = true
enable_semantic_files_types = true
collapsible_file_list = true

# Custom sections for PR description
custom_labels = [
  "Type: Feature",
  "Type: Bug Fix", 
  "Type: Documentation",
  "Type: Refactor",
  "Type: Performance",
  "Type: Breaking Change"
]

# Template for PR description
pr_description_template = """
## üéØ Overview
{description}

## üìù Changes

### Added
{added}

### Modified  
{modified}

### Removed
{removed}

## üé® Type
{type}

## üì¶ Affected Packages
{packages}

## üîó Related Issues
{issues}

## ‚úÖ Pre-merge Checklist
- [ ] Tests added/updated
- [ ] Documentation updated  
- [ ] Changeset created (`pnpm changeset`)
- [ ] Follows conventional commits
- [ ] No breaking changes (or documented in changeset)
- [ ] All CI checks passing

## üì∏ Screenshots/Demos
{screenshots}

---
*Generated by [PR Agent](https://github.com/Codium-ai/pr-agent)*
"""

[pr_reviewer]
# Auto code review settings
require_all_tests_to_pass = true
require_tests_review = true
require_security_review = true
require_estimate_effort_to_review = true

# Review focus areas
extra_instructions = """
Pay special attention to:
- Accessibility (ARIA labels, keyboard navigation, screen reader support)
- Performance (bundle size, unnecessary re-renders, signal usage)
- TypeScript types (proper inference, no any types unless necessary)
- Component API design (props, variants, composition)
- Design token usage (using semantic tokens, not hardcoded values)
- Test coverage (unit tests, accessibility tests, visual tests)
- Documentation (JSDoc, Storybook stories)
"""

# Security checks
require_security_review = true
require_can_be_split_review = true

# Effort estimation
require_estimate_effort_to_review = true

[pr_code_suggestions]
# Code improvement suggestions
num_code_suggestions = 5
auto_improve = false
summarize = true

extra_instructions = """
Suggest improvements for:
- Better use of React patterns (hooks, composition)
- Signal-based state management optimization
- Tailwind CSS class organization (use cn() utility)
- TypeScript type improvements
- Accessibility enhancements
- Performance optimizations
"""

[github]
# GitHub-specific settings
publish_output_progress = true
auto_review_new_commits = true

# Label configuration based on our scopes
label_on_review = true

[pr_questions]
# Interactive Q&A about the PR
enable_help_text = true

[pr_update_changelog]
# Changelog update settings
push_changelog_changes = false
context_lines = 3

[pr_similar_issue]
# Find similar issues/PRs
skip_comments = true
force_update_translations = false

[best_practices]
# Component library best practices
extra_instructions = """
Fluxwind UI Best Practices:
1. Use signals internally, expose React hooks externally
2. All interactive components must be keyboard accessible
3. Follow design token hierarchy (tokens ‚Üí themes ‚Üí components)
4. Prefer composition over configuration
5. Keep bundle size minimal
6. Document all public APIs with JSDoc
7. Add Storybook stories for all variants
8. Include accessibility tests (vitest + @testing-library)
9. Use CVA for variant management
10. Follow conventional commits with proper scopes
"""

[custom]
# Fluxwind-specific settings
monorepo = true
packages = ["@fluxwind-ui/core", "@fluxwind-ui/themes", "@fluxwind-ui/utils"]

# Conventional commit scopes
valid_scopes = [
  "core", "themes", "utils",
  "button", "input", "dropdown", "modal", "tooltip",
  "a11y", "animation", "tokens", "signals", "hooks",
  "deps", "ci", "config", "dx", "security",
  "docs", "storybook", "playground", "readme"
]
